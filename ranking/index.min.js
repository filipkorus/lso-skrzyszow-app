loadRanking("month"==RANKING?(new Date).getMonth():null,(new Date).getFullYear(),RANKING,USER_ROLE);const tbody=document.querySelector("tbody"),template=document.querySelector("template");async function loadRanking(e,t,n,a=""){const o=await fetch(`./../getData.php?month=${e}&year=${t}&role=${a}&ranking=${n}`),r=await o.json();if(r.error)return UIkit.notification({message:r.msg,status:r.status||"danger",timeout:5e3});let l=1;tbody.innerHTML="",r.points.forEach(e=>{const t=template.content.cloneNode(!0);t.querySelector("[data-place]").textContent=l,t.querySelector("[data-picture]").src=PROFILE_PICTURES_PATH+e.picture,t.querySelector("[data-name]").textContent=e.name,t.querySelector("[data-last_name]").textContent=e.last_name,t.querySelector("[data-points]").textContent=e.points,t.querySelector("[data-role]").textContent=e.role,tbody.append(t),++l}),$(".tablesorter").trigger("update")}document.querySelectorAll("select").forEach(e=>{e.oninput=(()=>{"year"===RANKING?loadRanking(null,document.querySelector("select[name=year]").value,RANKING,document.querySelector("select[name=role]").value):loadRanking(document.querySelector("select[name=month]").value,document.querySelector("select[name=year]").value,RANKING,document.querySelector("select[name=role]").value)})});