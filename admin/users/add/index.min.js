const inputs=document.querySelectorAll("input");document.querySelector("form").onsubmit=(async e=>{e.preventDefault();let t=!1;if(inputs.forEach(e=>{e.value.length?e.classList.remove("uk-form-danger"):"username"===e.name?e.value=document.querySelector("input[name=name]").value.toLowerCase()+document.querySelector("input[name=last_name]").value.toLowerCase():(e.classList.add("uk-form-danger"),t=!0)}),t)return UIkit.notification({message:"UzupeÅ‚nij wszystkie pola!",status:"danger",timeout:5e3});const a=new FormData;a.append("name",document.querySelector("input[name=name]").value),a.append("last_name",document.querySelector("input[name=last_name]").value),a.append("birthdate",document.querySelector("input[name=birthdate]").value),a.append("username",document.querySelector("input[name=username]").value),a.append("password",document.querySelector("input[name=password]").value),a.append("email",document.querySelector("input[name=email]").value),a.append("phone_no",document.querySelector("input[name=phone_no]").value),a.append("role",document.querySelector("select[name=role]").value),a.append("admin",document.querySelector("input[name=admin]").checked);const n=await fetch("./../../scripts/add-user.php",{method:"POST",body:a}),u=await n.json();UIkit.notification({message:u.msg,status:u.status||"danger",timeout:5e3}),u.error||(document.querySelector("select[name=role]").selectedIndex=0,inputs.forEach(e=>{"text"===e.type||"email"===e.type||"date"===e.type?e.value="":"checkbox"===e.type&&(e.checked=!1),"date"===e.type&&(e.type="text")}))}),inputs.forEach(e=>{e.addEventListener("keydown",()=>{e.value.length&&e.classList.remove("uk-form-danger")})});